function GrabzIt(a){return new function(a){this.key=a,this.data=null,this.dataKey=null,this.options=null,this.post=!1,this.elem=null,this.ConvertURL=function(a,b){return this.data=a,this.dataKey="url",this.options=b,this.post=!1,this},this.ConvertHTML=function(a,b){return this.data=a,this.dataKey="html",this.options=b,this.post=!0,this},this._post=function(a){var b;b=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var c=this;b.onreadystatechange=function(){4==this.readyState&&200==this.status&&c.elem.appendChild(c._handlePost(JSON.parse(this.responseText)))},b.open("POST",this._getBaseWebServiceUrl(),!0),b.setRequestHeader("Content-type","application/x-www-form-urlencoded"),b.send(a)},this._getBaseWebServiceUrl=function(){var a="//";return"https"!=window.location.protocol&&"http"!=window.location.protocol&&(a="http://"),a+"api.grabz.it/services/javascript.ashx"},this._createQueryString=function(a,b){var c="key="+encodeURIComponent(this.key)+"&"+a+"="+encodeURIComponent(b);if(null==this.options)return c;for(var d in this.options){if("format"!=d&&"cache"!=d&&"customWaterMarkId"!=d&&"quality"!=d&&"country"!=d&&"filename"!=d&&"errorid"!=d&&"errorclass"!=d&&"onfinish"!=d&&"onerror"!=d&&"delay"!=d&&"bwidth"!=d&&"bheight"!=d&&"height"!=d&&"width"!=d&&"target"!=d&&"requestas"!=d&&"download"!=d&&"suppresserrors"!=d&&"displayid"!=d&&"displayclass"!=d&&"background"!=d&&"pagesize"!=d&&"orientation"!=d&&"includelinks"!=d&&"includeoutline"!=d&&"title"!=d&&"coverurl"!=d&&"mtop"!=d&&"mleft"!=d&&"mbottom"!=d&&"mright"!=d&&"tabletoinclude"!=d&&"includeheadernames"!=d&&"includealltables"!=d&&"start"!=d&&"duration"!=d&&"speed"!=d&&"fps"!=d&&"repeat"!=d&&"reverse"!=d&&"templateid"!=d)throw"Option "+d+" not recognized!";var e=this.options[d];null!=e&&(c+="&"+d+"="+encodeURIComponent(e))}return c},this._createScriptNode=function(a){var b=document.createElement("script");return b.src=a,b},this._handlePost=function(a){if(null!=a){if(null==a.ID||""==a.ID)throw a.Message;return this._createScriptNode(this._getBaseWebServiceUrl()+"?"+this._createQueryString("id",a.ID))}},this.Create=function(){var a=document.documentElement;null!=document.body&&(a=document.body),this.AddTo(a)},this.AddTo=function(a){if("string"==typeof a||a instanceof String){if(this.elem=document.getElementById(a),null==this.elem)throw"An element with the id "+a+" was not found"}else 1===a.nodeType&&(this.elem=a);if(null==this.elem)throw"No valid element was provided to attach the screenshot to";return this.post?void this._post(this._createQueryString(this.dataKey,this.data)):void this.elem.appendChild(this._createScriptNode(this._getBaseWebServiceUrl()+"?"+this._createQueryString(this.dataKey,this.data)))}}(a)}function GrabzItSaveAsPDF(a,b){this.options=b,this.key=a,this.pluuginId=null,this.clicked=function(c){if(null==c||c.className.indexOf("grabzit-pdf-save-progress")!==-1)return!1;c.className+=" grabzit-pdf-save-progress";var d=c.getAttribute("grabzit-id"),e=null;null!=c.getAttribute("grabzit-url")&&(e=c.getAttribute("grabzit-url")),null==e&&(e=location.href);var f=null;d||(d=Math.floor(Math.random()*(1e9+1)),c.setAttribute("grabzit-id",d),f="grabzit"+d,window[f]=function(){for(var a=document.getElementsByClassName("grabzit-pdf-save-progress"),b=0;b<a.length;b++){var c=a[b];c.getAttribute("grabzit-id")==d&&(c.className=c.className.replace(/\b grabzit-pdf-save-progress\b/,""))}}),f="grabzit"+d;var g=JSON.parse(JSON.stringify(b));g.onfinish=f,g.onerror=f;try{GrabzIt(a).ConvertURL(e,g).Create()}catch(a){alert(a)}return!1},this._getJSFunction=function(a){return null!=a?a+";":""};(function(a){a.pluginId="grabzItSaveToPDF"+Math.floor(Math.random()*(1e9+1)),null==b&&(b={},b.filename=document.title+".pdf"),null!=b&&(b.format="pdf");for(var c=document.getElementsByClassName("grabzit-pdf-save"),d=0;d<c.length;d++){var e=c[d],f="";null!=e.getAttribute("onclick")&&(f=e.getAttribute("onclick")),e.setAttribute("onclick",a._getJSFunction(f+"return "+a.pluginId+".clicked(this)"))}window[a.pluginId]=a})(this)}